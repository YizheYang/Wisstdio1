# 第一周 #

## 前言

选择了第二个级别的考核难度。第一反应还是感觉挺有意思的，以前就有过类似的想法但因为各种因素总是不了了之。

## 开始

### 0x01.设置布局

由于已经提前熟悉过Android Studio的操作，于是直接开始打码。我认为设计软件的第一件事就是要理清思路；而最开始的地方应该就是用户第一眼看到的地方。所以要先在脑海中有个软件成型后的大概的构思。我的想法是每列三个图片，一列一列下来，然后把它们整齐的码在一起。在参考了《第一行代码》后，开始着手做布局文件。先在主界面做个线性布局，放上一个progressbar，然后再在里面添加一个recyclerview以便实现滑动浏览。新增了一个自定义控件，里面设了一个imageview来显示图片和一个TextView来显示作者信息。这样布局方面就大功告成了。

### 0x02.查看接口

接下来要做的就是挑选一个网站并且看看它所返回的数据的什么格式的。在这里我选择了第一个网站，按照网站的提示试了下它提供的查询接口，确认返回的内容是一张随机图片的地址以及它相关的消息。在这里没有选择返回多张图片一方面是因为一开始按照书里前面的示范已经实现了，另一方面是因为对读取json对象不熟，想着先把功能实现了再说，后面有时间再改。

### 0x03.网络请求

本来是想用书里推荐的okhttp，但是后来上网一查这个好像属于框架，于是又改成了最初的httpURLconnection。一开始写好函数后，输入网址总是不返回空白，然后才想起来返回的只是一个图片的地址，还得写一个函数解析这个地址才能得到要的数据。

# 第二周

### 0x01.完善功能

这周将上周未完成的想法实现了，例如一些基础的组件排版，基本的类的编写，解析网址获得对象等。实现了获取的图片的网格流布局显示。在其中研究了handler机制，基本实现了图片和信息的显示。一开始是选择了一次性加载完一定数量的数据再进行显示，这样显得等待的时间较久，于是后来改成获取一张刷新一张，这样看起来会快一点。但是在内存占用上，还是处于一个较高的水平。

### 0x02.下拉刷新，上拉加载更多

解决了数据的获取和显示后，准备开始着手解决这个难一点的问题。一开始下拉刷新是使用了swipe组件，后面发现了recyclerview 的canScrollVertically()方法，就又用回这个更为基础的方法。目前在做的功能点在于滑动的反弹效果。